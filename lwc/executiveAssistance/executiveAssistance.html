<template>
    <article class="slds-card">
<!--HEADER-->
        <div class="slds-card__header slds-grid">
            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                <div class="slds-media__figure">
                    <span class="slds-icon_container" title="asistencia">
                        <lightning-icon icon-name="standard:historical_adherence" size="small"></lightning-icon>
                        <span class="slds-assistive-text">Asistencia</span>
                    </span>
                </div>
                <div class="slds-media__body">
                    <h2 class="slds-card__header-title">
                            <span class="slds-card__header slds-truncate">Asistencia</span>
                    </h2>
                </div>
                <div class="slds-no-flex">
                    <lightning-button label="Refrescar" class="slds-var-p-horizontal_x-small" onclick={handleRefresh}></lightning-button>
                    <lightning-button label="Exportar" class="slds-var-p-horizontal_x-small" onclick={handleExport}></lightning-button>
                </div>
            </header>
        </div>
<!--BODY-->
        <div class="slds-card__body slds-card__body_inner">

            <div class="slds-grid slds-wrap">

                <div class="slds-col slds-size_1-of-5 slds-m-vertical_small slds-var-p-horizontal_small">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-1">
                            <lightning-input type="date" value={selectedDate} onchange={handleDateChange} variant="label-hidden"></lightning-input>
                        </div>
                        <div class="slds-col slds-size_1-of-1">
                            <lightning-radio-group name="filters"
                                                   label="Filtros"
                                                   options={options}
                                                   value={selectedFilter}
                                                   type="radio"
                                                   onchange={handleFilterChange}
                            >
                            </lightning-radio-group>
                        </div>
                    </div>
                </div>
                <br>

                <div class="slds-col slds-size_4-of-5 slds-m-vertical_small">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-1">
                            <div class="common-card-style ">

                                <template if:true={isLoading}>
                                    <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner>
                                </template>

                                <div class="datatable-container slds-scrollable_x">
                                    <lightning-datatable
                                            key-field="id"
                                            columns={columns}
                                            data={filteredExecutiveAssistanceData}
                                            hide-checkbox-column
                                            onsort={onHandleSort}
                                    >
                                    </lightning-datatable>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </article>
</template>